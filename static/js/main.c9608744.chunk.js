(this["webpackJsonpjsp-visualizer"]=this["webpackJsonpjsp-visualizer"]||[]).push([[0],{18:function(t,e,s){},25:function(t,e,s){},26:function(t,e,s){"use strict";s.r(e);var i=s(0),a=s(1),n=s.n(a),o=s(8),r=s.n(o),c=(s(18),s(3)),h=s(12),l=s(11),d=s(5),u=s(6),b=s(9),j=s.n(b),p=s(7),_=(s(25),function(){function t(e,s,i,a,n,o){Object(d.a)(this,t),this.start_time=e,this.end_time=s,this.machine=i,this.selected=a,this.operation_id=n,this.job_id=o}return Object(u.a)(t,[{key:"toLayoutJson",value:function(t){return{type:"rect",xref:"x",yref:"y",x0:t.unit_width*this.start_time,x1:t.unit_width*this.end_time,y0:t.unit_height*(this.machine-1),y1:t.unit_height*this.machine,line:{color:this.selected?"rgb(0, 0, 0)":"rgb(55, 128, 191)",width:1},fillcolor:this.selected?"rgba(0, 0, 0, 0.6)":"rgba(55, 128, 191, 0.6)"}}},{key:"toDataJson",value:function(t){var e=t.unit_width*this.start_time,s=t.unit_width*this.end_time,i=t.unit_height*(this.machine-1),a=t.unit_height*this.machine;return{x:[e,e,s,s,e],y:[i,a,a,i,i],fill:"toself",mode:"lines",name:"",text:"op_id = "+String(this.operation_id)+", job_id = "+String(this.job_id),opacity:0}}}]),t}()),g=function(t){Object(h.a)(s,t);var e=Object(l.a)(s);function s(){var t;return Object(d.a)(this,s),(t=e.call(this)).is_problem_set=function(){return"operations"in t.state.problem},t.is_answer_set=function(){return"process_list"in t.state.answer},t.setup_data=function(e,s,i,a,n,o){s.splice(0),e.shapes.splice(0),a.process_list.forEach((function(a,r){a.forEach((function(c,h){var l=r+1,d=i.operations[c.operation_id].time,u=i.operations[c.operation_id].job,b=new _(c.start_time,c.start_time+d,l,n==u,c.operation_id,u);e.shapes.push(b.toLayoutJson(t.config));var j=0;if(o){if(h>0){var p=a[h-1],g=i.operations[p.operation_id].time;j=p.start_time+g}j<c.start_time&&s.push(b.toDataJson(t.config))}}))}));var r=0;for(var c in a.process_list)for(var h in a.process_list[c])r=Math.max(r,a.process_list[c][h].start_time);e.xaxis.range=[0,t.config.unit_width*r*1.1],e.yaxis.range=[0,t.config.unit_height*i.machine_size*1.1]},t.onDropProblem=function(e){var s=new FileReader;s.onloadend=function(){var e=JSON.parse(s.result),i=Object.assign(t.state.layout),a=Object.assign(t.state.data);t.is_answer_set()&&t.setup_data(i,a,e,t.state.answer,t.state.selected_job_id,t.state.hover),t.setState(Object(c.a)(Object(c.a)({},t.state),{},{problem:e,layout:i,data:a}))},s.readAsText(e[0])},t.onDropAnswer=function(e){var s=new FileReader;s.onloadend=function(){var e=JSON.parse(s.result),i=Object.assign(t.state.layout),a=Object.assign(t.state.data);t.is_problem_set()&&t.setup_data(i,a,t.state.problem,e,t.state.selected_job_id,t.state.hover),t.setState(Object(c.a)(Object(c.a)({},t.state),{},{answer:e,layout:i,data:a}))},s.readAsText(e[0])},t.onClickDebugCheckBox=function(){t.setState(Object(c.a)(Object(c.a)({},t.state),{},{debug:!t.state.debug}))},t.onClickHoverCheckBox=function(){t.setup_data(t.state.layout,t.state.data,t.state.problem,t.state.answer,t.state.selected_job_id,t.state.hover),t.setState(Object(c.a)(Object(c.a)({},t.state),{},{hover:!t.state.hover}))},t.onChangeJobIDSelect=function(e){var s=e.target.value;if(t.is_answer_set()&&t.is_problem_set()){var i=Object.assign(t.state.layout),a=Object.assign(t.state.data);t.setup_data(i,a,t.state.problem,t.state.answer,s,t.state.hover),t.setState(Object(c.a)(Object(c.a)({},t.state),{},{layout:i,data:a,selected_job_id:s}))}},t.debugInfo=function(){return t.state.debug?Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:["problem = ",JSON.stringify(t.state.problem)]}),Object(i.jsxs)("div",{children:["answer = ",JSON.stringify(t.state.answer)]})]}):Object(i.jsx)("div",{children:" no debug information. "})},t.config={title:"Jobshop Scheduling Problem Visualizer",height:1200,width:1600,unit_height:1,unit_width:1},t.state={problem:{},answer:{},data:t.data_json(),layout:t.layout_json(),debug:!0,selected_job_id:0,hover:!1},t}return Object(u.a)(s,[{key:"data_json",value:function(){return[]}},{key:"layout_json",value:function(){return{title:this.config.title,width:this.config.width,height:this.config.height,shapes:[new _(1,2,1).toLayoutJson(this.config)],xaxis:{range:[0,10]},yaxis:{range:[0,10]}}}},{key:"render",value:function(){var t=this;return Object(i.jsxs)("div",{children:[Object(i.jsx)(j.a,{data:this.state.data,layout:this.state.layout,config:{responsive:!0}}),Object(i.jsx)(p.a,{className:"dropzone",onDrop:this.onDropProblem,children:function(e){var s=e.getRootProps,a=e.getInputProps;return Object(i.jsx)("section",{className:"container",children:Object(i.jsxs)("div",Object(c.a)(Object(c.a)({},s({className:"dropzone"})),{},{children:[Object(i.jsx)("input",Object(c.a)({},a())),Object(i.jsx)("p",{children:"Drag & Drop problem json"}),Object(i.jsx)("p",{children:t.is_problem_set()?"problem is set.":""})]}))})}}),Object(i.jsx)(p.a,{className:"dropzone",onDrop:this.onDropAnswer,children:function(e){var s=e.getRootProps,a=e.getInputProps;return Object(i.jsx)("section",{className:"container",children:Object(i.jsxs)("div",Object(c.a)(Object(c.a)({},s({className:"dropzone"})),{},{children:[Object(i.jsx)("input",Object(c.a)({},a())),Object(i.jsx)("p",{children:"Drag & Drop answer json"}),Object(i.jsx)("p",{children:t.is_answer_set()?"answer is set.":""})]}))})}}),Object(i.jsx)("label",{children:"job_id:"}),Object(i.jsx)("input",{type:"text",name:"enlighten_job",onChange:this.onChangeJobIDSelect}),Object(i.jsxs)("form",{children:[Object(i.jsx)("input",{type:"checkbox",name:"hover",value:"on",checked:this.state.hover,onChange:this.onClickHoverCheckBox}),Object(i.jsx)("label",{children:" hover operation info "}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{type:"checkbox",name:"debug",value:"on",checked:this.state.debug,onChange:this.onClickDebugCheckBox}),Object(i.jsx)("label",{children:" debug mode "})]}),this.debugInfo()]})}}]),s}(n.a.Component),O=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,27)).then((function(e){var s=e.getCLS,i=e.getFID,a=e.getFCP,n=e.getLCP,o=e.getTTFB;s(t),i(t),a(t),n(t),o(t)}))};r.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(g,{})}),document.getElementById("root")),O()}},[[26,1,2]]]);
//# sourceMappingURL=main.c9608744.chunk.js.map